' ==============================================================================
'
'   File...... IRB Template.BS2
'   Purpose... 
'   Author.... 
'   E-mail.... 
'   Started...
'   Updated... 
'
'   {$STAMP BS2}
'
' ==============================================================================


' ------------------------------------------------------------------------------
' Program Description
' ------------------------------------------------------------------------------


' ------------------------------------------------------------------------------
' Revision History
' ------------------------------------------------------------------------------


' ------------------------------------------------------------------------------
' I/O Definitions
' ------------------------------------------------------------------------------

IRbSIO		CON	15			' IR Buddy serial I/O


' ------------------------------------------------------------------------------
' Constants
' ------------------------------------------------------------------------------

IRbRc5Tx	CON	$74			' RC-5 protocol TX
IRbRc5Rx	CON	$72			' RC-5 protocol RX
IRbDataTx	CON	$44			' 8-byte data transmit
IRbDataRx	CON	$64			' 8-byte data receive
IRbLoopback	CON	$4C			' loopback test

IRbMod		CON	38			' modulation freq: 30, 38 or 56

IRb96		CON	 84 + $8000		' 9600 baud, open
IRb48		CON	188 + $8000		' 4800 baud, open
IRb24		CON	396 + $8000		' 2400 baud, open
IRbBaud		CON	IRb96

CrsrXY		CON	 2			' DEBUG position command
ClrEOL		CON	11			' Clear DEBUG line to right


' ------------------------------------------------------------------------------
' Variables
' ------------------------------------------------------------------------------


' ------------------------------------------------------------------------------
' EEPROM Data
' ------------------------------------------------------------------------------


' ------------------------------------------------------------------------------
' Initialization
' ------------------------------------------------------------------------------

Setup:
  GOSUB IR_Buddy_Reset


' ------------------------------------------------------------------------------
' Program Code
' ------------------------------------------------------------------------------

Main:
  END

' ------------------------------------------------------------------------------
' Subroutines
' ------------------------------------------------------------------------------

' Reset the IR Buddy.  This code is useful for clearing data from the RX
' buffer and prepping to switch modes.  Timing specific; do not change.

IR_Buddy_Reset:
  LOW IRbSIO                                    ' signal reset
  PAUSE 5
  INPUT IRbSIO                                  ' release reset signal
  PAUSE 50                                      ' allow time for reset actions
  RETURN